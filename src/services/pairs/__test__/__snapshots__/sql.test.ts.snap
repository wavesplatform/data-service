// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`sql query from pairs should get many pairs 1`] = `"select \\"first_price\\", \\"last_price\\", \\"volume\\", \\"quote_volume\\", \\"high\\", \\"low\\", \\"weighted_average_price\\", \\"txs_count\\", \\"volume_waves\\", \\"aa\\".\\"asset_id\\" as \\"amount_asset_id\\", \\"pa\\".\\"asset_id\\" as \\"price_asset_id\\" from \\"pairs\\" as \\"t\\" inner join \\"assets\\" as \\"aa\\" on \\"aa\\".\\"uid\\" = \\"t\\".\\"amount_asset_uid\\" inner join \\"assets\\" as \\"pa\\" on \\"pa\\".\\"uid\\" = \\"t\\".\\"price_asset_uid\\" left join \\"addresses\\" as \\"matcher_addr\\" on \\"matcher_addr\\".\\"uid\\" = \\"t\\".\\"matcher_address_uid\\" where (\\"aa\\".\\"asset_id\\", \\"pa\\".\\"asset_id\\") in (('111', '222'), ('333', '444')) and \\"matcher_address_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '555' limit 1)"`;

exports[`sql query from pairs should get one pair 1`] = `"select \\"first_price\\", \\"last_price\\", \\"volume\\", \\"quote_volume\\", \\"high\\", \\"low\\", \\"weighted_average_price\\", \\"txs_count\\", \\"volume_waves\\", \\"aa\\".\\"asset_id\\" as \\"amount_asset_id\\", \\"pa\\".\\"asset_id\\" as \\"price_asset_id\\" from \\"pairs\\" as \\"t\\" inner join \\"assets\\" as \\"aa\\" on \\"aa\\".\\"uid\\" = \\"t\\".\\"amount_asset_uid\\" inner join \\"assets\\" as \\"pa\\" on \\"pa\\".\\"uid\\" = \\"t\\".\\"price_asset_uid\\" left join \\"addresses\\" as \\"matcher_addr\\" on \\"matcher_addr\\".\\"uid\\" = \\"t\\".\\"matcher_address_uid\\" where (\\"aa\\".\\"asset_id\\", \\"pa\\".\\"asset_id\\") in (('111', '222')) and \\"matcher_address_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '333' limit 1)"`;

exports[`sql query from pairs should search pairs for one asset 1`] = `"with \\"assets_cte\\" as (select distinct \\"asset_uid\\" from (select \\"t\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"t\\" where \\"t\\".\\"asset_id\\" = '7FJhS4wyEKqsp77VCMfCZWKLSMuy1TWskYAyZ28amWFj' or \\"t\\".\\"ticker\\" ilike '7FJhS4wyEKqsp77VCMfCZWKLSMuy1TWskYAyZ28amWFj%' union all select \\"t2\\".\\"asset_uid\\" as \\"asset_uid\\" from \\"assets_metadata\\" as \\"t2\\" where \\"t2\\".\\"asset_name\\" ilike '7FJhS4wyEKqsp77VCMfCZWKLSMuy1TWskYAyZ28amWFj%' union all select \\"t3\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"t3\\" where \\"t3\\".\\"asset_name\\" ilike '7FJhS4wyEKqsp77VCMfCZWKLSMuy1TWskYAyZ28amWFj%' or t3.searchable_asset_name @@ to_tsquery('7FJhS4wyEKqsp77VCMfCZWKLSMuy1TWskYAyZ28amWFj:*')) as \\"a\\") select \\"t\\".\\"first_price\\", \\"t\\".\\"last_price\\", \\"t\\".\\"volume\\", \\"t\\".\\"quote_volume\\", \\"t\\".\\"high\\", \\"t\\".\\"low\\", \\"t\\".\\"weighted_average_price\\", \\"t\\".\\"txs_count\\", \\"t\\".\\"volume_waves\\", \\"aa\\".\\"asset_id\\" as \\"amount_asset_id\\", \\"pa\\".\\"asset_id\\" as \\"price_asset_id\\" from \\"pairs\\" as \\"t\\" inner join \\"assets\\" as \\"aa\\" on \\"aa\\".\\"uid\\" = \\"t\\".\\"amount_asset_uid\\" inner join \\"assets\\" as \\"pa\\" on \\"pa\\".\\"uid\\" = \\"t\\".\\"price_asset_uid\\" inner join \\"assets_cte\\" as \\"amountCte\\" on \\"amountCte\\".\\"asset_uid\\" = \\"t\\".\\"amount_asset_uid\\" inner join \\"assets_cte\\" as \\"priceCte\\" on \\"priceCte\\".\\"asset_uid\\" = \\"t\\".\\"amount_asset_uid\\" where \\"matcher_address_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '' limit 1) order by volume_waves desc NULLS LAST limit 10"`;

exports[`sql query from pairs should search pairs for one asset exactly 1`] = `"with \\"assets_cte\\" as (select distinct \\"asset_uid\\" from (select \\"t\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"t\\" where \\"t\\".\\"asset_id\\" = '7FJhS4wyEKqsp77VCMfCZWKLSMuy1TWskYAyZ28amWFj' or \\"t\\".\\"ticker\\" ilike '7FJhS4wyEKqsp77VCMfCZWKLSMuy1TWskYAyZ28amWFj' union all select \\"t2\\".\\"asset_uid\\" as \\"asset_uid\\" from \\"assets_metadata\\" as \\"t2\\" where \\"t2\\".\\"asset_name\\" ilike '7FJhS4wyEKqsp77VCMfCZWKLSMuy1TWskYAyZ28amWFj' union all select \\"t3\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"t3\\" where \\"t3\\".\\"asset_name\\" ilike '7FJhS4wyEKqsp77VCMfCZWKLSMuy1TWskYAyZ28amWFj' or t3.searchable_asset_name @@ to_tsquery('7FJhS4wyEKqsp77VCMfCZWKLSMuy1TWskYAyZ28amWFj:*')) as \\"a\\") select \\"t\\".\\"first_price\\", \\"t\\".\\"last_price\\", \\"t\\".\\"volume\\", \\"t\\".\\"quote_volume\\", \\"t\\".\\"high\\", \\"t\\".\\"low\\", \\"t\\".\\"weighted_average_price\\", \\"t\\".\\"txs_count\\", \\"t\\".\\"volume_waves\\", \\"aa\\".\\"asset_id\\" as \\"amount_asset_id\\", \\"pa\\".\\"asset_id\\" as \\"price_asset_id\\" from \\"pairs\\" as \\"t\\" inner join \\"assets\\" as \\"aa\\" on \\"aa\\".\\"uid\\" = \\"t\\".\\"amount_asset_uid\\" inner join \\"assets\\" as \\"pa\\" on \\"pa\\".\\"uid\\" = \\"t\\".\\"price_asset_uid\\" inner join \\"assets_cte\\" as \\"amountCte\\" on \\"amountCte\\".\\"asset_uid\\" = \\"t\\".\\"amount_asset_uid\\" inner join \\"assets_cte\\" as \\"priceCte\\" on \\"priceCte\\".\\"asset_uid\\" = \\"t\\".\\"amount_asset_uid\\" where \\"matcher_address_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '' limit 1) order by volume_waves desc NULLS LAST limit 10"`;

exports[`sql query from pairs should search pairs for one asset exactly 2`] = `"with \\"assets_cte\\" as (select distinct \\"asset_uid\\" from (select \\"t\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"t\\" where \\"t\\".\\"asset_id\\" = E'¯\\\\\\\\_(ツ)_/¯' or \\"t\\".\\"ticker\\" ilike E'¯\\\\\\\\_(ツ)_/¯' union all select \\"t2\\".\\"asset_uid\\" as \\"asset_uid\\" from \\"assets_metadata\\" as \\"t2\\" where \\"t2\\".\\"asset_name\\" ilike E'¯\\\\\\\\_(ツ)_/¯' union all select \\"t3\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"t3\\" where \\"t3\\".\\"asset_name\\" ilike E'¯\\\\\\\\_(ツ)_/¯') as \\"a\\") select \\"t\\".\\"first_price\\", \\"t\\".\\"last_price\\", \\"t\\".\\"volume\\", \\"t\\".\\"quote_volume\\", \\"t\\".\\"high\\", \\"t\\".\\"low\\", \\"t\\".\\"weighted_average_price\\", \\"t\\".\\"txs_count\\", \\"t\\".\\"volume_waves\\", \\"aa\\".\\"asset_id\\" as \\"amount_asset_id\\", \\"pa\\".\\"asset_id\\" as \\"price_asset_id\\" from \\"pairs\\" as \\"t\\" inner join \\"assets\\" as \\"aa\\" on \\"aa\\".\\"uid\\" = \\"t\\".\\"amount_asset_uid\\" inner join \\"assets\\" as \\"pa\\" on \\"pa\\".\\"uid\\" = \\"t\\".\\"price_asset_uid\\" inner join \\"assets_cte\\" as \\"amountCte\\" on \\"amountCte\\".\\"asset_uid\\" = \\"t\\".\\"amount_asset_uid\\" inner join \\"assets_cte\\" as \\"priceCte\\" on \\"priceCte\\".\\"asset_uid\\" = \\"t\\".\\"amount_asset_uid\\" where \\"matcher_address_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '' limit 1) order by volume_waves desc NULLS LAST limit 10"`;

exports[`sql query from pairs should search pairs for two assets (amount and price) 1`] = `"with \\"assets_cte\\" as (select \\"t1\\".\\"asset_uid\\" as \\"amount_asset_uid\\", \\"t2\\".\\"asset_uid\\" as \\"price_asset_uid\\" from (select distinct \\"asset_uid\\" from (select \\"a\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"a\\" where \\"a\\".\\"asset_id\\" = 'BTC' or \\"a\\".\\"ticker\\" ilike 'BTC%' union all select \\"a2\\".\\"asset_uid\\" as \\"asset_uid\\" from \\"assets_metadata\\" as \\"a2\\" where \\"a2\\".\\"asset_name\\" ilike 'BTC%' union all select \\"a3\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"a3\\" where \\"a3\\".\\"asset_name\\" ilike 'BTC%' or a3.searchable_asset_name @@ to_tsquery('BTC:*')) as \\"a\\") as \\"t1\\" cross join (select distinct \\"asset_uid\\" from (select \\"p\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"p\\" where \\"p\\".\\"asset_id\\" = 'WAVES' or \\"p\\".\\"ticker\\" ilike 'WAVES%' union all select \\"p2\\".\\"asset_uid\\" as \\"asset_uid\\" from \\"assets_metadata\\" as \\"p2\\" where \\"p2\\".\\"asset_name\\" ilike 'WAVES%' union all select \\"p3\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"p3\\" where \\"p3\\".\\"asset_name\\" ilike 'WAVES%' or p3.searchable_asset_name @@ to_tsquery('WAVES:*')) as \\"a\\") as \\"t2\\") select \\"t\\".\\"first_price\\", \\"t\\".\\"last_price\\", \\"t\\".\\"volume\\", \\"t\\".\\"quote_volume\\", \\"t\\".\\"high\\", \\"t\\".\\"low\\", \\"t\\".\\"weighted_average_price\\", \\"t\\".\\"txs_count\\", \\"t\\".\\"volume_waves\\", \\"aa\\".\\"asset_id\\" as \\"amount_asset_id\\", \\"pa\\".\\"asset_id\\" as \\"price_asset_id\\" from \\"pairs\\" as \\"t\\" inner join \\"assets\\" as \\"aa\\" on \\"aa\\".\\"uid\\" = \\"t\\".\\"amount_asset_uid\\" inner join \\"assets\\" as \\"pa\\" on \\"pa\\".\\"uid\\" = \\"t\\".\\"price_asset_uid\\" inner join \\"assets_cte\\" as \\"direct_cte\\" on \\"direct_cte\\".\\"amount_asset_uid\\" = \\"t\\".\\"amount_asset_uid\\" and \\"direct_cte\\".\\"price_asset_uid\\" = \\"t\\".\\"price_asset_uid\\" where \\"matcher_address_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '' limit 1) union all select \\"t1\\".\\"first_price\\", \\"t1\\".\\"last_price\\", \\"t1\\".\\"volume\\", \\"t1\\".\\"quote_volume\\", \\"t1\\".\\"high\\", \\"t1\\".\\"low\\", \\"t1\\".\\"weighted_average_price\\", \\"t1\\".\\"txs_count\\", \\"t1\\".\\"volume_waves\\", \\"aa\\".\\"asset_id\\" as \\"amount_asset_id\\", \\"pa\\".\\"asset_id\\" as \\"price_asset_id\\" from \\"pairs\\" as \\"t1\\" inner join \\"assets_cte\\" as \\"reverse_cte\\" on \\"reverse_cte\\".\\"amount_asset_uid\\" = \\"t1\\".\\"price_asset_uid\\" and \\"reverse_cte\\".\\"price_asset_uid\\" = \\"t1\\".\\"amount_asset_uid\\" inner join \\"assets\\" as \\"aa\\" on \\"aa\\".\\"uid\\" = \\"t1\\".\\"amount_asset_uid\\" inner join \\"assets\\" as \\"pa\\" on \\"pa\\".\\"uid\\" = \\"t1\\".\\"price_asset_uid\\" where \\"matcher_address_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '' limit 1) order by volume_waves desc NULLS LAST limit 10"`;

exports[`sql query from pairs should search pairs for two assets (amount and price) 2`] = `"with \\"assets_cte\\" as (select \\"t1\\".\\"asset_uid\\" as \\"amount_asset_uid\\", \\"t2\\".\\"asset_uid\\" as \\"price_asset_uid\\" from (select distinct \\"asset_uid\\" from (select \\"a\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"a\\" where \\"a\\".\\"asset_id\\" = E'¯\\\\\\\\_(ツ)_/¯' or \\"a\\".\\"ticker\\" ilike E'¯\\\\\\\\_(ツ)_/¯%' union all select \\"a2\\".\\"asset_uid\\" as \\"asset_uid\\" from \\"assets_metadata\\" as \\"a2\\" where \\"a2\\".\\"asset_name\\" ilike E'¯\\\\\\\\_(ツ)_/¯%' union all select \\"a3\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"a3\\" where \\"a3\\".\\"asset_name\\" ilike E'¯\\\\\\\\_(ツ)_/¯%') as \\"a\\") as \\"t1\\" cross join (select distinct \\"asset_uid\\" from (select \\"p\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"p\\" where \\"p\\".\\"asset_id\\" = 'WAVES' or \\"p\\".\\"ticker\\" ilike 'WAVES%' union all select \\"p2\\".\\"asset_uid\\" as \\"asset_uid\\" from \\"assets_metadata\\" as \\"p2\\" where \\"p2\\".\\"asset_name\\" ilike 'WAVES%' union all select \\"p3\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"p3\\" where \\"p3\\".\\"asset_name\\" ilike 'WAVES%' or p3.searchable_asset_name @@ to_tsquery('WAVES:*')) as \\"a\\") as \\"t2\\") select \\"t\\".\\"first_price\\", \\"t\\".\\"last_price\\", \\"t\\".\\"volume\\", \\"t\\".\\"quote_volume\\", \\"t\\".\\"high\\", \\"t\\".\\"low\\", \\"t\\".\\"weighted_average_price\\", \\"t\\".\\"txs_count\\", \\"t\\".\\"volume_waves\\", \\"aa\\".\\"asset_id\\" as \\"amount_asset_id\\", \\"pa\\".\\"asset_id\\" as \\"price_asset_id\\" from \\"pairs\\" as \\"t\\" inner join \\"assets\\" as \\"aa\\" on \\"aa\\".\\"uid\\" = \\"t\\".\\"amount_asset_uid\\" inner join \\"assets\\" as \\"pa\\" on \\"pa\\".\\"uid\\" = \\"t\\".\\"price_asset_uid\\" inner join \\"assets_cte\\" as \\"direct_cte\\" on \\"direct_cte\\".\\"amount_asset_uid\\" = \\"t\\".\\"amount_asset_uid\\" and \\"direct_cte\\".\\"price_asset_uid\\" = \\"t\\".\\"price_asset_uid\\" where \\"matcher_address_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '' limit 1) union all select \\"t1\\".\\"first_price\\", \\"t1\\".\\"last_price\\", \\"t1\\".\\"volume\\", \\"t1\\".\\"quote_volume\\", \\"t1\\".\\"high\\", \\"t1\\".\\"low\\", \\"t1\\".\\"weighted_average_price\\", \\"t1\\".\\"txs_count\\", \\"t1\\".\\"volume_waves\\", \\"aa\\".\\"asset_id\\" as \\"amount_asset_id\\", \\"pa\\".\\"asset_id\\" as \\"price_asset_id\\" from \\"pairs\\" as \\"t1\\" inner join \\"assets_cte\\" as \\"reverse_cte\\" on \\"reverse_cte\\".\\"amount_asset_uid\\" = \\"t1\\".\\"price_asset_uid\\" and \\"reverse_cte\\".\\"price_asset_uid\\" = \\"t1\\".\\"amount_asset_uid\\" inner join \\"assets\\" as \\"aa\\" on \\"aa\\".\\"uid\\" = \\"t1\\".\\"amount_asset_uid\\" inner join \\"assets\\" as \\"pa\\" on \\"pa\\".\\"uid\\" = \\"t1\\".\\"price_asset_uid\\" where \\"matcher_address_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '' limit 1) order by volume_waves desc NULLS LAST limit 10"`;

exports[`sql query from pairs should search pairs for two assets (amount and price) 3`] = `"with \\"assets_cte\\" as (select \\"t1\\".\\"asset_uid\\" as \\"amount_asset_uid\\", \\"t2\\".\\"asset_uid\\" as \\"price_asset_uid\\" from (select distinct \\"asset_uid\\" from (select \\"a\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"a\\" where \\"a\\".\\"asset_id\\" = E'¯\\\\\\\\_(ツ)_/¯' or \\"a\\".\\"ticker\\" ilike E'¯\\\\\\\\_(ツ)_/¯' union all select \\"a2\\".\\"asset_uid\\" as \\"asset_uid\\" from \\"assets_metadata\\" as \\"a2\\" where \\"a2\\".\\"asset_name\\" ilike E'¯\\\\\\\\_(ツ)_/¯' union all select \\"a3\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"a3\\" where \\"a3\\".\\"asset_name\\" ilike E'¯\\\\\\\\_(ツ)_/¯') as \\"a\\") as \\"t1\\" cross join (select distinct \\"asset_uid\\" from (select \\"p\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"p\\" where \\"p\\".\\"asset_id\\" = 'WAVES' or \\"p\\".\\"ticker\\" ilike 'WAVES%' union all select \\"p2\\".\\"asset_uid\\" as \\"asset_uid\\" from \\"assets_metadata\\" as \\"p2\\" where \\"p2\\".\\"asset_name\\" ilike 'WAVES%' union all select \\"p3\\".\\"uid\\" as \\"asset_uid\\" from \\"assets\\" as \\"p3\\" where \\"p3\\".\\"asset_name\\" ilike 'WAVES%' or p3.searchable_asset_name @@ to_tsquery('WAVES:*')) as \\"a\\") as \\"t2\\") select \\"t\\".\\"first_price\\", \\"t\\".\\"last_price\\", \\"t\\".\\"volume\\", \\"t\\".\\"quote_volume\\", \\"t\\".\\"high\\", \\"t\\".\\"low\\", \\"t\\".\\"weighted_average_price\\", \\"t\\".\\"txs_count\\", \\"t\\".\\"volume_waves\\", \\"aa\\".\\"asset_id\\" as \\"amount_asset_id\\", \\"pa\\".\\"asset_id\\" as \\"price_asset_id\\" from \\"pairs\\" as \\"t\\" inner join \\"assets\\" as \\"aa\\" on \\"aa\\".\\"uid\\" = \\"t\\".\\"amount_asset_uid\\" inner join \\"assets\\" as \\"pa\\" on \\"pa\\".\\"uid\\" = \\"t\\".\\"price_asset_uid\\" inner join \\"assets_cte\\" as \\"direct_cte\\" on \\"direct_cte\\".\\"amount_asset_uid\\" = \\"t\\".\\"amount_asset_uid\\" and \\"direct_cte\\".\\"price_asset_uid\\" = \\"t\\".\\"price_asset_uid\\" where \\"matcher_address_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '' limit 1) union all select \\"t1\\".\\"first_price\\", \\"t1\\".\\"last_price\\", \\"t1\\".\\"volume\\", \\"t1\\".\\"quote_volume\\", \\"t1\\".\\"high\\", \\"t1\\".\\"low\\", \\"t1\\".\\"weighted_average_price\\", \\"t1\\".\\"txs_count\\", \\"t1\\".\\"volume_waves\\", \\"aa\\".\\"asset_id\\" as \\"amount_asset_id\\", \\"pa\\".\\"asset_id\\" as \\"price_asset_id\\" from \\"pairs\\" as \\"t1\\" inner join \\"assets_cte\\" as \\"reverse_cte\\" on \\"reverse_cte\\".\\"amount_asset_uid\\" = \\"t1\\".\\"price_asset_uid\\" and \\"reverse_cte\\".\\"price_asset_uid\\" = \\"t1\\".\\"amount_asset_uid\\" inner join \\"assets\\" as \\"aa\\" on \\"aa\\".\\"uid\\" = \\"t1\\".\\"amount_asset_uid\\" inner join \\"assets\\" as \\"pa\\" on \\"pa\\".\\"uid\\" = \\"t1\\".\\"price_asset_uid\\" where \\"matcher_address_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '' limit 1) order by volume_waves desc NULLS LAST limit 10"`;
